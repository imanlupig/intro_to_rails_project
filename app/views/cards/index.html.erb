<h1>Welcome to YugiohAPI</h1>
<%= render 'layouts/navbar' %>

<div id='formDiv'>
  <%= form_with(url: cards_path, method: :get, local: true) do %>
    <%= label_tag :query, "Search Cards:" %>
    <%= text_field_tag :query, params[:query] %>
    <%= submit_tag "Search" %>
  <% end %>
</div>

<h2><%= @results.present? ? "Search Results:" : "First 200 Cards:" %></h2>
<ul>
  <% if @results.present? %>
    <% @results.each do |card| %>
      <li class="links">
        <%= link_to "#{card.name}, Card ID: #{card.id}, Type: #{card.card_type&.name}", card_path(card) %>
      </li>
    <% end %>
  <% else %>
    <% @cards.each do |card| %>
      <li>
        <%= link_to card.name, card_path(card) %>
      </li>
    <% end %>
  <% end %>
</ul>
